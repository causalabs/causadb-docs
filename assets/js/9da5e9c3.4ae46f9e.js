"use strict";(self.webpackChunkcausadb_docs=self.webpackChunkcausadb_docs||[]).push([[7736],{1893:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>r});var n=a(5893),s=a(1151);const i={sidebar_position:2},o="Recommending health and lifestyle interventions",l={id:"examples/use-cases/lifestyle",title:"Recommending health and lifestyle interventions",description:"The availability of big data and the advancement of machine learning technologies has promised a revolution in personalised healthcare. ML and AI technologies could help to personalise treatments and recommendations to a person's specific needs. This technology has started to be used in both clinical and non-clinical settings, with popular apps helping people to manage their nutrition in a way that is tailor-made to their own needs. However a major limitation of these technologies is that they are rarely built using causally-aware algorithms. This makes it easy for AI algorithms to give poor and even potentially harmful recommendations. In this use case we'll explore how conventional AI gets this wrong, and how causal AI can be used to give trustworthy lifestyle recommendations.",source:"@site/docs/examples/use-cases/lifestyle.md",sourceDirName:"examples/use-cases",slug:"/examples/use-cases/lifestyle",permalink:"/docs/examples/use-cases/lifestyle",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/examples/use-cases/lifestyle.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"exampleSidebar",previous:{title:"Understanding customer intent",permalink:"/docs/examples/use-cases/customer_intent"},next:{title:"Supply chain optimisation",permalink:"/docs/examples/use-cases/supply_chain"}},d={},r=[{value:"Scenario",id:"scenario",level:2},{value:"What&#39;s wrong with standard AI?",id:"whats-wrong-with-standard-ai",level:2},{value:"Set up CausaDB",id:"set-up-causadb",level:2},{value:"Fitting the causal model",id:"fitting-the-causal-model",level:2},{value:"Defining the Causal Relationships",id:"defining-the-causal-relationships",level:3},{value:"Running training",id:"running-training",level:3},{value:"Using the model in production to make recommendations",id:"using-the-model-in-production-to-make-recommendations",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"recommending-health-and-lifestyle-interventions",children:"Recommending health and lifestyle interventions"}),"\n",(0,n.jsx)(t.p,{children:"The availability of big data and the advancement of machine learning technologies has promised a revolution in personalised healthcare. ML and AI technologies could help to personalise treatments and recommendations to a person's specific needs. This technology has started to be used in both clinical and non-clinical settings, with popular apps helping people to manage their nutrition in a way that is tailor-made to their own needs. However a major limitation of these technologies is that they are rarely built using causally-aware algorithms. This makes it easy for AI algorithms to give poor and even potentially harmful recommendations. In this use case we'll explore how conventional AI gets this wrong, and how causal AI can be used to give trustworthy lifestyle recommendations."}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note:"})," We are not medical professionals. None of the content of this page should be taken as medical advice, and is simply intended to demonstrate the potential of integrating causal AI with professional medical expertise."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"scenario",children:"Scenario"}),"\n",(0,n.jsx)(t.p,{children:"To keep things simple we'll consider a case where a user's goal is to reduce their BMI by changing the percentage of saturated fats in their diet. Data collected from previous users and/or medical records is available, and takes the form:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"UserID"}),(0,n.jsx)(t.th,{children:"SaturatedFatsInDiet (%)"}),(0,n.jsx)(t.th,{children:"Weight (kg)"}),(0,n.jsx)(t.th,{children:"BMI (kg/m\xb2)"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"U001"}),(0,n.jsx)(t.td,{children:"12"}),(0,n.jsx)(t.td,{children:"70"}),(0,n.jsx)(t.td,{children:"22.5"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"U002"}),(0,n.jsx)(t.td,{children:"7"}),(0,n.jsx)(t.td,{children:"65"}),(0,n.jsx)(t.td,{children:"21.0"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"U003"}),(0,n.jsx)(t.td,{children:"15"}),(0,n.jsx)(t.td,{children:"80"}),(0,n.jsx)(t.td,{children:"25.5"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"U004"}),(0,n.jsx)(t.td,{children:"10"}),(0,n.jsx)(t.td,{children:"75"}),(0,n.jsx)(t.td,{children:"23.8"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"U005"}),(0,n.jsx)(t.td,{children:"5"}),(0,n.jsx)(t.td,{children:"60"}),(0,n.jsx)(t.td,{children:"20.3"})]})]})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"UserID"}),": A unique identifier for each user in the dataset."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"SaturatedFatsInDiet (%)"}),": The percentage of saturated fats in the user's diet."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"Weight (kg)"}),": The weight of the user in kilograms."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"BMI (kg/m\xb2)"}),": The Body Mass Index of the user, calculated as weight in kilograms divided by the square of height in meters."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"whats-wrong-with-standard-ai",children:"What's wrong with standard AI?"}),"\n",(0,n.jsxs)(t.p,{children:['Our goal is to help a user achieve their desired BMI by reducing the amount of saturated fats in their diet. A standard AI approach would be to train a model to predict BMI based on the available variables, and then use that model to find the ideal percentage of saturated fats in the diet that achieves the desired BMI. However this approach is flawed because by including all variables, some of the important causal pathways can become "blocked". In this example, including the ',(0,n.jsx)(t.code,{children:"weight"})," variable in the AI model means that changes in saturated fat intake can't change weight, and in turn won't affect BMI. This is where causal AI is needed."]}),"\n",(0,n.jsx)(t.h2,{id:"set-up-causadb",children:"Set up CausaDB"}),"\n",(0,n.jsx)(t.p,{children:"CausaDB can be initialised and the dataset can be attached in the usual way:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'const causadb = require(\'causadb\');\n\ncausadb.setToken("<YOUR_API_KEY>");\n\nconst model = causadb.createModel("bmi");\n\nmodel.attachDataFromDB("bmi_db");\n'})}),"\n",(0,n.jsxs)(t.p,{children:["If you don't already have an API key, ",(0,n.jsx)(t.a,{href:"https://causa.tech",children:"get in touch"})," to set one up."]}),"\n",(0,n.jsx)(t.h2,{id:"fitting-the-causal-model",children:"Fitting the causal model"}),"\n",(0,n.jsx)(t.p,{children:"Now we've initialised CausaDB and created our model instance, we need to define the causal model with the relevant variables and their relationships. This means specifying the input features and the causal relationships between them. We'll define these manually in this example, but there are also automated and semi-automated approaches that we explore in other examples. This only needs to be done once when first setting up the model or when updating it."}),"\n",(0,n.jsx)(t.h3,{id:"defining-the-causal-relationships",children:"Defining the Causal Relationships"}),"\n",(0,n.jsx)(t.p,{children:"The causal model in CausaDB allows us to incorporate domain knowledge about potential causal relationships between variables. In our case, we have:"}),"\n",(0,n.jsxs)(t.p,{children:["We have ",(0,n.jsx)(t.code,{children:"SaturatedFatsInDiet"})," as a potential cause of a user's ",(0,n.jsx)(t.code,{children:"Weight"})," as well as ",(0,n.jsx)(t.code,{children:"Weight"})," as an intermediary variable which affects ",(0,n.jsx)(t.code,{children:"BMI"}),". This can be defined in CausaDB using:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'model.setNodes(["SaturatedFatsInDiet", "Weight", "BMI"]);\n\nmodel.setEdges([\n    ("SaturatedFatsInDiet", "Weight"),\n    ("Weight", "BMI"),\n]);\n'})}),"\n",(0,n.jsx)(t.p,{children:"In this setup, we define the nodes and edges in our causal model. The edges represent the hypothesized causal relationships, such as the influence of saturated fat intake on weight, and subsequently on BMI. This model will help us understand and quantify the effects of dietary habits on overall health outcomes."}),"\n",(0,n.jsx)(t.h3,{id:"running-training",children:"Running training"}),"\n",(0,n.jsx)(t.p,{children:"After defining the variables and their causal relationships, we can fit the model to our dataset. This process takes place on the CausaDB cloud and for a small dataset with a few columns (like our example), should take less than a second."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"model.train();\n"})}),"\n",(0,n.jsx)(t.p,{children:"With the train method, the model learns from the historical data in our dataset. This training process allows CausaDB to understand how different variables interact causally and how interventions on diet can influence the weight and BMI of a user. This also makes the model ready for production, and it can now be queried to make recommendations within a health app to help users make informed decisions about their lifestyle choices."}),"\n",(0,n.jsx)(t.h2,{id:"using-the-model-in-production-to-make-recommendations",children:"Using the model in production to make recommendations"}),"\n",(0,n.jsx)(t.p,{children:"CausaDB is cloud-first, so once training is complete, the model is already available in production. This means that from a NodeJS server that handles API calls from your frontend, you can simply connect to CausaDB as we did earlier, retrieve the model, and then run the query needed for your application. We'll retrieve the model using:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'const model = CausaDB.getModel("bmi");\n'})}),"\n",(0,n.jsxs)(t.p,{children:["This will pull in the model from your CausaDB model database ready for querying. In our use case, the goal is to give a user access to a slider that they can adjust to see how changing their saturated fat intake will impact their BMI. For this, we can use CausaDB's simulated actions functionality. At the NodeJS server for the app, we'll assume the user's slider value request is available as ",(0,n.jsx)(t.code,{children:"sliderValue"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"const actionOutcome = model.simulateAction({'SaturatedFatsInDiet': sliderValue});\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The NodeJS server can then respond with the expected outcome using ",(0,n.jsx)(t.code,{children:"actionOutcome.BMI"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsx)(t.p,{children:"This case study highlights the potential of CausaDB in the realm of personalized health and lifestyle recommendations. By using causal AI, we avoid the limitations and pitfalls of traditional predictive models, enabling us to understand and act upon the complex relationships between variables. The future of AI in healthcare and beyond lies in the ability to not just predict, but to understand and influence outcomes in a responsible and informed manner."})]})}function c(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},1151:(e,t,a)=>{a.d(t,{Z:()=>l,a:()=>o});var n=a(7294);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);