"use strict";(self.webpackChunkcausadb_docs=self.webpackChunkcausadb_docs||[]).push([[5079],{9023:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var s=t(5893),a=t(1151);const i={sidebar_position:3},o="Quickstart (Node.js)",d={id:"guide/quickstart",title:"Quickstart (Node.js)",description:"To get up and running quickly with CausaDB using Node.js, follow the steps below.",source:"@site/docs/guide/quickstart.md",sourceDirName:"guide",slug:"/guide/quickstart",permalink:"/docs/guide/quickstart",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/guide/quickstart.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"guideSidebar",previous:{title:"Installation",permalink:"/docs/guide/installation"}},l={},c=[{value:"Connect to CausaDB with the Node client",id:"connect-to-causadb-with-the-node-client",level:2},{value:"Connect a data source",id:"connect-a-data-source",level:2},{value:"From a database",id:"from-a-database",level:3},{value:"From a file",id:"from-a-file",level:3},{value:"Specify a model",id:"specify-a-model",level:2},{value:"Fit the model",id:"fit-the-model",level:2},{value:"Deploying your model",id:"deploying-your-model",level:2},{value:"Using the model",id:"using-the-model",level:2},{value:"Simulating outcomes",id:"simulating-outcomes",level:3},{value:"Finding optimal actions",id:"finding-optimal-actions",level:3},{value:"Next steps",id:"next-steps",level:2}];function r(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"quickstart-nodejs",children:"Quickstart (Node.js)"}),"\n",(0,s.jsx)(n.p,{children:"To get up and running quickly with CausaDB using Node.js, follow the steps below."}),"\n",(0,s.jsx)(n.h2,{id:"connect-to-causadb-with-the-node-client",children:"Connect to CausaDB with the Node client"}),"\n",(0,s.jsxs)(n.p,{children:["Firstly, we need to set up the client with your API key. The API key can be provided as an environment variable ",(0,s.jsx)(n.code,{children:"CAUSA_API_KEY"})," or, as below, by providing the API key when the client is initialised."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const causadb = require(\'causadb\');\n\ncausadb.setToken("<YOUR_API_KEY>");\n\nmodel = causadb.createModel("my_model_name");\n'})}),"\n",(0,s.jsx)(n.h2,{id:"connect-a-data-source",children:"Connect a data source"}),"\n",(0,s.jsxs)(n.p,{children:["You can load data from a database or a file. To load data from a database, you'll first need to register it with CausaDB. To find out how to do this, follow the CLI guide. For the purposes of this tutorial we'll assume you've already registered a database called ",(0,s.jsx)(n.code,{children:"data"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"from-a-database",children:"From a database"}),"\n",(0,s.jsxs)(n.p,{children:["To load data from a database registered with CausaDB, use ",(0,s.jsx)(n.code,{children:"attachDataFromDB"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'model.attachDataFromDB("my_database");\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),' You\'ll need to have registered a database called "my_database" with CausaDB first using the command line interface (CLI). See the examples page of this documentation for an example of how to do this.']}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"from-a-file",children:"From a file"}),"\n",(0,s.jsxs)(n.p,{children:["To load data from a local file, use ",(0,s.jsx)(n.code,{children:"attachDataFromFile"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'model.attachDataFromFile("path/to/data.csv");\n'})}),"\n",(0,s.jsx)(n.h2,{id:"specify-a-model",children:"Specify a model"}),"\n",(0,s.jsxs)(n.p,{children:["A causal model is defined by its causal structure. To assign a causal structure, we can add graph features using ",(0,s.jsx)(n.code,{children:"setNodes"})," and ",(0,s.jsx)(n.code,{children:"setEdges"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'model.setNodes(["x1", "x2", "x3"])\n\nmodel.setEdges([\n    ("x1", "x2"),\n    ("x2", "x3")\n])\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The node variables ",(0,s.jsx)(n.code,{children:"x1"}),", ",(0,s.jsx)(n.code,{children:"x2"}),", and ",(0,s.jsx)(n.code,{children:"x3"})," should be present as columns in the data source."]}),"\n",(0,s.jsx)(n.h2,{id:"fit-the-model",children:"Fit the model"}),"\n",(0,s.jsx)(n.p,{children:"Once a data source and structure have been defined, it's time to fit a causal model to the data. This is simple using the default model settings:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"model.fit()\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Additional parameters can be passed to the model ",(0,s.jsx)(n.code,{children:"fit"})," function, but we'll keep things simple for now."]}),"\n",(0,s.jsxs)(n.p,{children:["Running the ",(0,s.jsx)(n.code,{children:"fit"})," function will initialise the model fitting process. Depending on the size of the dataset and complexity of the causal structure, this can take anywhere from a few milliseconds to several hours. If the model fitting is being run programmatically, it could be useful to check model fitting progress by running:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"model.status()\n"})}),"\n",(0,s.jsx)(n.p,{children:"If the model fitting process is still running, the response will look something like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    'status': 'fitting', \n    'details': {\n        'running_time': 134,\n    },\n    ...\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"If the model fitting has already finished, you'll get a response like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    'status': 'ready', \n    ...\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"deploying-your-model",children:"Deploying your model"}),"\n",(0,s.jsx)(n.p,{children:'The model definition and fitting process is all run in the cloud, so once a model has been defined and fit, it is ready to be used in production. To use a model in production, it can be referred to either by its model name (we set this as "my_model_name" earlier) or its model reference ID, which can be obtained using:'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"model.id\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"xGl3baAzQasWC0KW\n"})}),"\n",(0,s.jsx)(n.p,{children:"The model ID will refer to this specific version of the model, whereas the name will refer to the latest model with the same name, so we recommend using the ID where possible."}),"\n",(0,s.jsx)(n.h2,{id:"using-the-model",children:"Using the model"}),"\n",(0,s.jsx)(n.p,{children:"The core value of causal AI can be accessed through a series of core functions. We'll cover some common use cases below."}),"\n",(0,s.jsx)(n.h3,{id:"simulating-outcomes",children:"Simulating outcomes"}),"\n",(0,s.jsx)(n.p,{children:"One of the central features of causal AI is the ability to simulate outcomes after a change in the inputs. This can be used to estimate how taking an action will change the outcome. This is something that non-causal models struggle with because they don't understand how the input variables are causally related. In CausaDB, we can estimate the impact of an action using:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"model.simulateAction({'x1': 1});\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    'x1': 1.000,\n    'x2': 0.551,\n    'x3': -0.382,\n    ...\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will estimate the value of each variable after setting ",(0,s.jsx)(n.code,{children:"x1"})," equal to 1. This can be used to estimate how taking an action or making a recommendation is likely to change a target outcome, and any side-effects such an action might have."]}),"\n",(0,s.jsx)(n.h3,{id:"finding-optimal-actions",children:"Finding optimal actions"}),"\n",(0,s.jsxs)(n.p,{children:["Following on from simulating the outcomes of actions, an obvious next step is to find the optimal set of actions needed to achieve a target outcome. This problem can be solved in CausaDB using the ",(0,s.jsx)(n.code,{children:"optimalActions"})," function:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"model.optimalActions({\n    actions: ['x1'],\n    outcomes: [\n        {'node': 'x3', 'target': -0.5}\n    ],\n    constraints: [\n        {'node': 'x2', 'bounds': [-1, 1]}\n    ],\n})\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{\n    actions: [\n        {'x1': 1.289}\n    ],\n    outcomes: [\n        {'x3': -0.498}\n    ],\n    constraints: [\n        {'x2': 0.736}\n    ]\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will find the optimal value of ",(0,s.jsx)(n.code,{children:"x1"})," to achieve the target outcome of ",(0,s.jsx)(n.code,{children:"x3 = -0.5"})," subject to a set of constraints (optional) that ",(0,s.jsx)(n.code,{children:"x2"})," must be between -1 and 1."]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(n.p,{children:"This quickstart guide is designed to give you a quick overview of how to get started with CausaDB. To learn more about the full functionality of CausaDB, read the (examples)[ww.google.com] and reference sections of the documentation to see how CausaDB can help to solve your specific use cases."})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>o});var s=t(7294);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);